<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="stylee.css" />
    <meta name="theme-color" content="#000000" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="title" content="Freelance Accounting " />
    <meta
      name="description"
      content="To organize and keep track of data that was both simple and including clean UI for Freelancer accounting their client hours"
    />
    <meta name="keywords" content="accounting," />
    <meta name="robots" content="index, follow" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="language" content="English" />
    <link rel="icon" sizes="32x32" href="favicon/favicon-32x32.png" />
    <link rel="personal-icon" sizes="192x192" href="favi/android-chrome-192x192.png" />
    <link rel="apple-touch-icon" href="favicon/apple-touch-icon.png" />

    <title>Liors Accounting</title>
  </head>
  <body onLoad="fetchClientListFromLocalStorage()">
    <div class="overlay overlay-slide-left" id="overlay">
      <!-- Menu Items -->
      <nav>
        <ul>
          <li id="nav-1" class="slide-out-1"><a href="#">Home</a></li>
          <li id="nav-2" class="slide-out-2"><a href="#clients">Clients</a></li>
          <li id="nav-3" class="slide-out-3"><a href="#week-hrs">This Week</a></li>
          <li id="nav-4" class="slide-out-4"><a href="#archive">Archive</a></li>
          <li id="nav-5" class="slide-out-5"><a href="#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
    <!-- Menu Bars -->
    <div class="menu-bars" id="menu-bars">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>
    <!-- Home -->
    <section id="home">
      <div class="title">Lior Limited Liability</div>
      <h1 class="home-page-text">LIFE IS BETTER IN THE MOUNTAINS</h1>
    </section>

    <!-- Client List-->
    <section id="clients">
      <span class="header">
        <h1>Client List</h1>
      </span>
      <div class="column-container" id="client-container" style="align-content: flex-start">
        <div class="item">Choza</div>
        <div class="item">me</div>
      </div>
      <button id="new-client-button">New Client</button>
    </section>
    <!-- Week Hours  -->
    <section id="week-hrs">
      <span class="header">
        <h1>Week Hours</h1>
      </span>
      <div class="column-container" id="hours-container"></div>
      <div class="add-time-buttons hide">
        <button class="open-button" id="60min">60MIN</button>
        <button class="open-button" id="45min">45MIN</button>
        <button class="open-button" id="30min">30MIN</button>
      </div>
      <button class="open-button" id="add-client-button">add client</button>
    </section>
    <!-- Archive  -->
    <section id="archive">
      <span class="header">
        <h1>Archive</h1>
      </span>
      <div class="column-container" id="client-container"></div>
    </section>
    <!-- Contact  -->
    <section id="contact">
      <span class="header">
        <h1>Contact</h1>
      </span>
      <div class="column-container" id="client-container"></div>
    </section>
    <div class="modal-container hide" id="modal">
      <div class="modal">
        <div class="modal-header">
          <h3>Add Client</h3>
        </div>
        <div class="modal-content">
          <form id="client-form">
            <div class="form-group">
              <label class="form-label" for="client-name"></label>
              <input class="form-input" type="text" id="client-name" />
            </div>
            <button class="open-button buttons" type="submit">Save</button>
          </form>
        </div>
      </div>
    </div>
    <div class="modal-container hide" id="modalList">
      <div class="modal" style="height: 74vh">
        <div class="modal-header">
          <h3>Client List</h3>
        </div>
        <div id="modal-content-list"></div>
      </div>
    </div>
    <script src="scriptt.js">
           const OFFLINE_VERSION = 1;
      const CACHE_NAME = 'offline';
      // Customize this with a different URL if needed.
      const OFFLINE_URL = 'offline.html';

      self.addEventListener('install', (event) => {
        event.waitUntil(
          (async () => {
            const cache = await caches.open(CACHE_NAME);
            // Setting {cache: 'reload'} in the new request will ensure that the response
            // isn't fulfilled from the HTTP cache; i.e., it will be from the network.
            await cache.add(new Request(OFFLINE_URL, { cache: 'reload' }));
          })()
        );
      });

      self.addEventListener('activate', (event) => {
        event.waitUntil(
          (async () => {
            // Enable navigation preload if it's supported.
            // See https://developers.google.com/web/updates/2017/02/navigation-preload
            if ('navigationPreload' in self.registration) {
              await self.registration.navigationPreload.enable();
            }
          })()
        );

        // Tell the active service worker to take control of the page immediately.
        self.clients.claim();
      });

      self.addEventListener('fetch', (event) => {
        // We only want to call event.respondWith() if this is a navigation request
        // for an HTML page.
        if (event.request.mode === 'navigate') {
          event.respondWith(
            (async () => {
              try {
                // First, try to use the navigation preload response if it's supported.
                const preloadResponse = await event.preloadResponse;
                if (preloadResponse) {
                  return preloadResponse;
                }

                const networkResponse = await fetch(event.request);
                return networkResponse;
              } catch (error) {
                // catch is only triggered if an exception is thrown, which is likely
                // due to a network error.
                // If fetch() returns a valid HTTP response with a response code in
                // the 4xx or 5xx range, the catch() will NOT be called.
                console.log('Fetch failed; returning offline page instead.', error);

                const cache = await caches.open(CACHE_NAME);
                const cachedResponse = await cache.match(OFFLINE_URL);
                return cachedResponse;
              }
            })()
          );
        }

        // If our if() condition is false, then this fetch handler won't intercept the
        // request. If there are any other fetch handlers registered, they will get a
        // chance to call event.respondWith(). If no fetch handlers call
        // event.respondWith(), the request will be handled by the browser as if there
        // were no service worker involvement.
      });

      // On install, cache some stuff
      addEventListener('install', function (event) {
        event.waitUntil(
          caches.open('core').then(function (cache) {
            cache.add(new Request('offline.html'));
            return;
          })
        );
      });
      // listen for requests
      addEventListener('fetch', function (event) {
        // Get the request
        var request = event.request;

        // HTML files
        // Network-first
        if (request.headers.get('Accept').includes('text/html')) {
          event.respondWith(
            fetch(request)
              .then(function (response) {
                return response;
              })
              .catch(function (error) {
                return caches.match('offline.html');
              })
          );
        }
      });
    </script>
  </body>
</html>
